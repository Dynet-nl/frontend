{"version":3,"file":"static/js/586.3c971c8a.chunk.js","mappings":"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","sources":["pages/HASPlanningApartmentSchedulePage.js"],"sourcesContent":["// HAS planning interface for scheduling apartments with HAS-specific appointment options.\n\nimport React, {useEffect, useState} from 'react';\nimport {useNavigate, useParams} from 'react-router-dom';\nimport logger from '../utils/logger';\nimport useAxiosPrivate from '../hooks/useAxiosPrivate';\nimport { categorizeBuilding, generateHBNumber } from '../utils/buildingCategorization';\nimport { LoadingState } from '../components/ui';\nimport '../styles/tsApartmentDetails.css'; \nconst HASPlanningApartmentSchedulePage = () => {\n    const {id} = useParams();\n    const navigate = useNavigate();\n    const axiosPrivate = useAxiosPrivate();\n    const [building, setBuilding] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedApartments, setSelectedApartments] = useState([]);\n    const [hasMonteurs, setHASMonteurs] = useState([]);\n    const [appointmentData, setAppointmentData] = useState({\n        date: '',\n        startTime: '',\n        endTime: '',\n        weekNumber: null,\n        type: 'HAS', \n        hasMonteurName: '', \n        complaintDetails: '' \n    });\n    const [flatAppointments, setFlatAppointments] = useState({});\n    const calculateWeekNumber = (date) => {\n        const currentDate = new Date(date);\n        const startDate = new Date(currentDate.getFullYear(), 0, 1);\n        const days = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000));\n        const weekNumber = Math.ceil(days / 7);\n        return weekNumber;\n    };\n\n    // HB Number generation is now handled by the centralized generateHBNumber function\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toISOString().split('T')[0];\n    };\n    const fetchHASMonteurs = async () => {\n        try {\n            const response = await axiosPrivate.get('/api/users');\n            const users = response.data;\n            const monteurs = users.filter(user => {\n                return user.roles &&\n                    typeof user.roles === 'object' &&\n                    user.roles.HASMonteur === 2023;\n            });\n            setHASMonteurs(monteurs);\n        } catch (error) {\n            logger.error('Error fetching HAS Monteurs:', error);\n        }\n    };\n    const fetchBuilding = async () => {\n        try {\n            const { data } = await axiosPrivate.get(`/api/building/${id}`);\n            setBuilding(data);\n            const initialFlatAppointments = {};\n            data.flats.forEach((flat) => {\n                if (flat.hasMonteur?.appointmentBooked?.date) {\n                    initialFlatAppointments[flat._id] = {\n                        date: formatDate(flat.hasMonteur.appointmentBooked.date),\n                        startTime: flat.hasMonteur.appointmentBooked.startTime,\n                        endTime: flat.hasMonteur.appointmentBooked.endTime,\n                        weekNumber: flat.hasMonteur.appointmentBooked.weekNumber,\n                        type: flat.hasMonteur.appointmentBooked.type || 'HAS',\n                        hasMonteurName: flat.hasMonteur.hasMonteurName || '',\n                        complaintDetails: flat.hasMonteur.appointmentBooked.complaintDetails || ''\n                    };\n                }\n            });\n            setFlatAppointments(initialFlatAppointments);\n            const apartmentsWithAppointments = data.flats\n                .filter(flat => flat.hasMonteur?.appointmentBooked?.date)\n                .map(flat => flat._id);\n            setSelectedApartments(prevSelected => {\n                const combined = [...new Set([...prevSelected, ...apartmentsWithAppointments])];\n                return combined;\n            });\n            setLoading(false);\n        } catch (error) {\n            logger.error('Error fetching building data', error);\n            setLoading(false);\n        }\n    };\n    useEffect(() => {\n        fetchBuilding();\n        fetchHASMonteurs();\n    }, [id, axiosPrivate]);\n    const handleApartmentSelection = (flatId) => {\n        setSelectedApartments((prevSelected) =>\n            prevSelected.includes(flatId)\n                ? prevSelected.filter((id) => id !== flatId)\n                : [...prevSelected, flatId]\n        );\n    };\n    const handleAppointmentChange = (e) => {\n        const {name, value} = e.target;\n        setAppointmentData((prevData) => ({\n            ...prevData,\n            [name]: value,\n            ...(name === 'date' ? {weekNumber: calculateWeekNumber(value)} : {})\n        }));\n    };\n    const handleAppointmentSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        try {\n            const appointmentResults = await Promise.all(\n                selectedApartments.map(async (flatId) => {\n                    const appointmentPayload = {\n                        appointmentBooked: {\n                            date: appointmentData.date,\n                            startTime: appointmentData.startTime,\n                            endTime: appointmentData.endTime,\n                            weekNumber: appointmentData.weekNumber,\n                            type: appointmentData.type\n                        },\n                        hasMonteurName: appointmentData.hasMonteurName\n                    };\n                    if (appointmentData.type === 'Complaint' && appointmentData.complaintDetails) {\n                        appointmentPayload.appointmentBooked.complaintDetails = appointmentData.complaintDetails;\n                    }\n                    const response = await axiosPrivate.put(`/api/apartment/${flatId}/has-monteur`, appointmentPayload);\n                    return { flatId, data: response.data };\n                })\n            );\n            const updatedFlatAppointments = { ...flatAppointments };\n            appointmentResults.forEach(({ flatId, data }) => {\n                if (data.hasMonteur?.appointmentBooked) {\n                    updatedFlatAppointments[flatId] = {\n                        date: formatDate(data.hasMonteur.appointmentBooked.date),\n                        startTime: data.hasMonteur.appointmentBooked.startTime,\n                        endTime: data.hasMonteur.appointmentBooked.endTime,\n                        weekNumber: data.hasMonteur.appointmentBooked.weekNumber,\n                        type: data.hasMonteur.appointmentBooked.type || 'HAS',\n                        hasMonteurName: data.hasMonteur.hasMonteurName || appointmentData.hasMonteurName,\n                        complaintDetails: data.hasMonteur.appointmentBooked.complaintDetails || ''\n                    };\n                }\n            });\n            setFlatAppointments(updatedFlatAppointments);\n            const buildingResponse = await axiosPrivate.get(`/api/building/${id}`);\n            setBuilding(buildingResponse.data);\n            alert('Appointments saved successfully!');\n        } catch (error) {\n            logger.error('Error saving appointments:', error);\n            alert('Error saving appointments. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n    if (loading) return <LoadingState message=\"Loading building data...\" />;\n    \n    const flats = building.flats || [];\n    const hbNumber = generateHBNumber(building, flats);\n    const buildingTitle = `${building.address}${hbNumber ? ` (${hbNumber})` : ''}`;\n    \n    return (\n        <div className=\"ts-apartmentDetailsContainer\">\n            <h2>HAS Appointment Schedule for {buildingTitle}</h2>\n            <div className=\"ts-columns\">\n                <div className=\"ts-leftColumn\">\n                    <h3>Select Apartments for Appointment</h3>\n                    {building.flats.map((flat) => (\n                        <div key={flat._id} className=\"ts-apartmentDetails\">\n                            <label>\n                                <input\n                                    type=\"checkbox\"\n                                    checked={selectedApartments.includes(flat._id)}\n                                    onChange={() => handleApartmentSelection(flat._id)}\n                                />\n                                {flat.adres} {flat.huisNummer}{flat.toevoeging}\n                            </label>\n                            {selectedApartments.includes(flat._id) && flatAppointments[flat._id] && (\n                                <div className=\"appointmentDetails\">\n                                    <div className=\"ts-formGroup\">\n                                        <label>Current Appointment:</label>\n                                        <div>\n                                            Type: {flatAppointments[flat._id].type}\n                                        </div>\n                                        <div>\n                                            Date: {new Date(flatAppointments[flat._id].date).toLocaleDateString()}\n                                        </div>\n                                        <div>\n                                            Time: {flatAppointments[flat._id].startTime} - {flatAppointments[flat._id].endTime}\n                                        </div>\n                                        <div>\n                                            Week: {flatAppointments[flat._id].weekNumber}\n                                        </div>\n                                        {flatAppointments[flat._id].hasMonteurName && (\n                                            <div>\n                                                HAS Monteur: {flatAppointments[flat._id].hasMonteurName}\n                                            </div>\n                                        )}\n                                        {flatAppointments[flat._id].type === 'Complaint' && flatAppointments[flat._id].complaintDetails && (\n                                            <div>\n                                                Complaint Details: {flatAppointments[flat._id].complaintDetails}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n                <div className=\"ts-rightColumn\">\n                    <h3>Set Appointment Details</h3>\n                    <form onSubmit={handleAppointmentSubmit} className=\"ts-form\">\n                        <div className=\"ts-formGroup\">\n                            <label>Appointment Type:</label>\n                            <div className=\"ts-radioGroup\">\n                                <label>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"type\"\n                                        value=\"HAS\"\n                                        checked={appointmentData.type === 'HAS'}\n                                        onChange={handleAppointmentChange}\n                                    />\n                                    HAS\n                                </label>\n                                <label>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"type\"\n                                        value=\"Storing\"\n                                        checked={appointmentData.type === 'Storing'}\n                                        onChange={handleAppointmentChange}\n                                    />\n                                    Storing\n                                </label>\n                                <label>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"type\"\n                                        value=\"Complaint\"\n                                        checked={appointmentData.type === 'Complaint'}\n                                        onChange={handleAppointmentChange}\n                                    />\n                                    Complaint\n                                </label>\n                            </div>\n                        </div>\n                        {appointmentData.type === 'Complaint' && (\n                            <div className=\"ts-formGroup\">\n                                <label>Complaint Details:</label>\n                                <textarea\n                                    name=\"complaintDetails\"\n                                    value={appointmentData.complaintDetails}\n                                    onChange={handleAppointmentChange}\n                                    className=\"ts-input\"\n                                    rows=\"4\"\n                                    placeholder=\"Enter complaint details\"\n                                    required={appointmentData.type === 'Complaint'}\n                                ></textarea>\n                            </div>\n                        )}\n                        <div className=\"ts-formGroup\">\n                            <label>Appointment Date:</label>\n                            <input\n                                type=\"date\"\n                                name=\"date\"\n                                value={appointmentData.date}\n                                onChange={handleAppointmentChange}\n                                className=\"ts-input\"\n                                required\n                            />\n                        </div>\n                        <div className=\"ts-formGroup\">\n                            <label>Start Time:</label>\n                            <input\n                                type=\"time\"\n                                name=\"startTime\"\n                                value={appointmentData.startTime}\n                                onChange={handleAppointmentChange}\n                                className=\"ts-input\"\n                                required\n                            />\n                        </div>\n                        <div className=\"ts-formGroup\">\n                            <label>End Time:</label>\n                            <input\n                                type=\"time\"\n                                name=\"endTime\"\n                                value={appointmentData.endTime}\n                                onChange={handleAppointmentChange}\n                                className=\"ts-input\"\n                                required\n                            />\n                        </div>\n                        <div className=\"ts-formGroup\">\n                            <label>Week Number:</label>\n                            <input\n                                type=\"number\"\n                                name=\"weekNumber\"\n                                value={appointmentData.weekNumber || ''}\n                                readOnly\n                                className=\"ts-input\"\n                            />\n                        </div>\n                        <div className=\"ts-formGroup\">\n                            <label>HAS Monteur:</label>\n                            <select\n                                name=\"hasMonteurName\"\n                                value={appointmentData.hasMonteurName}\n                                onChange={handleAppointmentChange}\n                                className=\"ts-input\"\n                            >\n                                <option value=\"\">Select a HAS Monteur</option>\n                                {hasMonteurs.map(monteur => (\n                                    <option key={monteur._id} value={monteur.name}>\n                                        {monteur.name}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                        <button\n                            type=\"submit\"\n                            className=\"ts-saveButton\"\n                            disabled={loading || selectedApartments.length === 0}\n                        >\n                            {loading ? 'Saving...' : 'Save Appointment'}\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default HASPlanningApartmentSchedulePage;"],"names":["id","useParams","axiosPrivate","useNavigate","useAxiosPrivate","building","setBuilding","useState","loading","setLoading","selectedApartments","setSelectedApartments","hasMonteurs","setHASMonteurs","appointmentData","setAppointmentData","date","startTime","endTime","weekNumber","type","hasMonteurName","complaintDetails","flatAppointments","setFlatAppointments","calculateWeekNumber","currentDate","Date","startDate","getFullYear","days","Math","floor","ceil","formatDate","dateString","toISOString","split","useEffect","async","data","get","initialFlatAppointments","flats","forEach","flat","hasMonteur","appointmentBooked","_id","apartmentsWithAppointments","filter","map","prevSelected","Set","error","logger","fetchBuilding","monteurs","user","roles","HASMonteur","fetchHASMonteurs","handleAppointmentChange","e","name","value","target","prevData","message","hbNumber","generateHBNumber","buildingTitle","address","className","checked","includes","onChange","handleApartmentSelection","flatId","adres","huisNummer","toevoeging","toLocaleDateString","onSubmit","preventDefault","appointmentResults","Promise","all","appointmentPayload","put","updatedFlatAppointments","buildingResponse","alert","rows","placeholder","required","readOnly","monteur","disabled","length"],"sourceRoot":""}