{"version":3,"file":"static/js/13.3299e2fe.chunk.js","mappings":"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","sources":["api/axios.js","hooks/useAxiosPrivate.js","pages/AdminDistrictManagementPage.js"],"sourcesContent":["// Axios configuration for API requests including base URL, interceptors, and request/response handling.\n\nimport axios from 'axios'\n\nconst BASE_URL =\n    process.env.REACT_APP_API_BASE_URL ||\n    (process.env.NODE_ENV === 'production'\n        ? 'https://backend-dynet2-1.onrender.com'\n        : 'http://localhost:5500')\n\nconst axiosPublic = axios.create({\n    baseURL: BASE_URL,\n    headers: {'Content-Type': 'application/json'},\n    withCredentials: true,\n})\n\nconst axiosPrivate = axios.create({\n    baseURL: BASE_URL,\n    headers: {'Content-Type': 'application/json'},\n    withCredentials: true,\n})\n\naxiosPrivate.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n        if (error.response?.status === 401) {\n            localStorage.removeItem('accessToken')\n            localStorage.removeItem('roles')\n            window.location.href = '/login'\n        }\n        return Promise.reject(error)\n    }\n)\n\nexport { axiosPublic }\nexport default axiosPrivate\n","// Custom hook providing axios instance with automatic JWT token attachment for authenticated requests.\n\nimport {useEffect} from 'react';\nimport axiosPrivate from '../api/axios';\nimport logger from '../utils/logger';\nimport useAuth from './useAuth';\nimport axios from 'axios';\nconst useAxiosPrivate = () => {\n    const {auth, setAuth, logout} = useAuth();\n    useEffect(() => {\n        const requestIntercept = axiosPrivate.interceptors.request.use(\n            config => {\n                if (!config.headers['Authorization']) {\n                    config.headers['Authorization'] = `Bearer ${auth?.accessToken}`;\n                }\n                return config;\n            },\n            (error) => Promise.reject(error)\n        );\n        const responseIntercept = axiosPrivate.interceptors.response.use(\n            response => response,\n            async (error) => {\n                const prevRequest = error?.config;\n                if (error.response?.status === 403 && !prevRequest?.sent) {\n                    prevRequest.sent = true;\n                    try {\n                        logger.log('Token expired, attempting refresh...');\n                        const refreshResponse = await axios.get('/refresh', {\n                            withCredentials: true\n                        });\n                        const newAccessToken = refreshResponse.data.accessToken;\n                        setAuth(prev => ({ ...prev, accessToken: newAccessToken }));\n                        localStorage.setItem('accessToken', newAccessToken);\n                        prevRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\n                        return axiosPrivate(prevRequest);\n                    } catch (refreshError) {\n                        logger.error('Token refresh failed:', refreshError);\n                        logout();\n                    }\n                }\n                if (error.response?.status === 401) {\n                    logout();\n                }\n                return Promise.reject(error);\n            }\n        );\n        return () => {\n            axiosPrivate.interceptors.request.eject(requestIntercept);\n            axiosPrivate.interceptors.response.eject(responseIntercept);\n        };\n    }, [auth, setAuth, logout]);\n    return axiosPrivate;\n};\nexport default useAxiosPrivate;","// Admin interface for managing districts including creation, editing, and organizational tools.\n\nimport React, { useEffect, useState } from 'react';\nimport useAxiosPrivate from '../hooks/useAxiosPrivate';\nimport logger from '../utils/logger';\nimport useAuth from '../hooks/useAuth';\nimport { BounceLoader } from 'react-spinners';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport '../styles/dashboardPage.css';  \nconst AdminDistrictManagementPage = () => {\n    const axiosPrivate = useAxiosPrivate();\n    const { auth } = useAuth();\n    const [isLoading, setIsLoading] = useState(false);\n    const [districts, setDistricts] = useState([]);\n    const [error, setError] = useState(null);\n    const [isSaving, setIsSaving] = useState(false);\n    const [dashboardData, setDashboardData] = useState({\n        totalCities: 0,\n        totalAreas: 0,\n        totalDistricts: 0,\n        totalBuildings: 0,\n        totalFlats: 0,\n        completedInstallations: 0,\n        pendingInstallations: 0,\n        scheduledAppointments: 0\n    });\n    const [dashboardLoading, setDashboardLoading] = useState(true);\n    const fetchAllDistricts = async () => {\n        setIsLoading(true);\n        setError(null);\n        try {\n            const response = await axiosPrivate.get('/api/district/all');\n            setDistricts(response.data);\n        } catch (error) {\n            logger.error('Error fetching all districts:', error);\n            setError('Failed to fetch districts');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n    const fetchDashboardData = async () => {\n        try {\n            const response = await axiosPrivate.get('/api/dashboard/stats');\n            setDashboardData(response.data);\n            setDashboardLoading(false);\n        } catch (error) {\n            logger.error('Error fetching dashboard data:', error);\n            setDashboardData({\n                totalCities: 1,\n                totalAreas: 3,\n                totalDistricts: 8,\n                totalBuildings: 45,\n                totalFlats: 350,\n                completedInstallations: 89,\n                pendingInstallations: 261,\n                scheduledAppointments: 12\n            });\n            setDashboardLoading(false);\n        }\n    };\n    useEffect(() => {\n        fetchAllDistricts();\n        fetchDashboardData();\n    }, []);\n    const onDragEnd = async (result) => {\n        if (!result.destination) return;\n        const items = Array.from(districts);\n        const [reorderedItem] = items.splice(result.source.index, 1);\n        items.splice(result.destination.index, 0, reorderedItem);\n        setDistricts(items);\n        setIsSaving(true);\n        try {\n            await axiosPrivate.post('/api/district/priority', {\n                districts: items.map((district) => ({\n                    id: district._id,\n                })),\n            });\n        } catch (error) {\n            logger.error('Failed to update priorities', error);\n            fetchAllDistricts();\n        } finally {\n            setIsSaving(false);\n        }\n    };\n    const getProgressBarColor = (percentage) => {\n        if (percentage === 100) return '#4CAF50';  \n        if (percentage >= 75) return '#8BC34A';   \n        if (percentage >= 50) return '#FFC107';   \n        if (percentage >= 25) return '#FF9800';   \n        return '#F44336';  \n    };\n    const ProcessFlowDiagram = () => (\n        <div className=\"process-flow-container\">\n            <h2 className=\"process-flow-title\">\n                Fiber Installation Process Overview\n            </h2>\n            <div className=\"hierarchy-section\">\n                <h3 className=\"hierarchy-title\">Location Hierarchy</h3>\n                <div className=\"hierarchy-container\">\n                    <div className=\"hierarchy-box\">\n                        <div className=\"hierarchy-icon cities\">üèôÔ∏è</div>\n                        <div>Cities</div>\n                        <div className=\"hierarchy-count\">{dashboardData.totalCities}</div>\n                    </div>\n                    <div className=\"hierarchy-arrow\">‚Üí</div>\n                    <div className=\"hierarchy-box\">\n                        <div className=\"hierarchy-icon areas\">üó∫Ô∏è</div>\n                        <div>Areas</div>\n                        <div className=\"hierarchy-count\">{dashboardData.totalAreas}</div>\n                    </div>\n                    <div className=\"hierarchy-arrow\">‚Üí</div>\n                    <div className=\"hierarchy-box\">\n                        <div className=\"hierarchy-icon districts\">üìç</div>\n                        <div>Districts</div>\n                        <div className=\"hierarchy-count\">{dashboardData.totalDistricts}</div>\n                    </div>\n                    <div className=\"hierarchy-arrow\">‚Üí</div>\n                    <div className=\"hierarchy-box\">\n                        <div className=\"hierarchy-icon buildings\">üè¢</div>\n                        <div>Buildings</div>\n                        <div className=\"hierarchy-count\">{dashboardData.totalBuildings}</div>\n                    </div>\n                    <div className=\"hierarchy-arrow\">‚Üí</div>\n                    <div className=\"hierarchy-box\">\n                        <div className=\"hierarchy-icon apartments\">üè†</div>\n                        <div>Apartments</div>\n                        <div className=\"hierarchy-count\">{dashboardData.totalFlats}</div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"process-section\">\n                <h3 className=\"process-title\">Installation Process Flow</h3>\n                <div className=\"process-container\">\n                    <div className=\"process-step\">\n                        <div className=\"process-icon planning\">üìã</div>\n                        <div className=\"process-label\">Technical Planning</div>\n                        <div className=\"process-role\">TP Team</div>\n                    </div>\n                    <div className=\"process-arrow\">‚Üí</div>\n                    <div className=\"process-step\">\n                        <div className=\"process-icon survey\">üîç</div>\n                        <div className=\"process-label\">Technical Survey</div>\n                        <div className=\"process-role\">TS Team</div>\n                    </div>\n                    <div className=\"process-arrow\">‚Üí</div>\n                    <div className=\"process-step\">\n                        <div className=\"process-icon preparation\">üîß</div>\n                        <div className=\"process-label\">Work Preparation</div>\n                        <div className=\"process-role\">WV Team</div>\n                    </div>\n                    <div className=\"process-arrow\">‚Üí</div>\n                    <div className=\"process-step\">\n                        <div className=\"process-icon has-planning\">üìÖ</div>\n                        <div className=\"process-label\">HAS Planning</div>\n                        <div className=\"process-role\">HP Team</div>\n                    </div>\n                    <div className=\"process-arrow\">‚Üí</div>\n                    <div className=\"process-step\">\n                        <div className=\"process-icon installation\">‚ö°</div>\n                        <div className=\"process-label\">Fiber Installation</div>\n                        <div className=\"process-role\">HM Team</div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"status-section\">\n                <h3 className=\"status-title\">Installation Status Overview</h3>\n                <div className=\"status-container\">\n                    <div className=\"status-card completed\">\n                        <div className=\"status-icon completed\">‚úÖ</div>\n                        <div>\n                            <div className=\"status-number\">{dashboardData.completedInstallations}</div>\n                            <div className=\"status-label\">Completed Installations</div>\n                        </div>\n                    </div>\n                    <div className=\"status-card pending\">\n                        <div className=\"status-icon pending\">‚è≥</div>\n                        <div>\n                            <div className=\"status-number\">{dashboardData.pendingInstallations}</div>\n                            <div className=\"status-label\">Pending Installations</div>\n                        </div>\n                    </div>\n                    <div className=\"status-card scheduled\">\n                        <div className=\"status-icon scheduled\">üìÖ</div>\n                        <div>\n                            <div className=\"status-number\">{dashboardData.scheduledAppointments}</div>\n                            <div className=\"status-label\">Scheduled This Week</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"overall-progress\">\n                <div className=\"overall-progress-title\">\n                    Overall Installation Progress\n                </div>\n                <div className=\"overall-progress-bar\">\n                    <div \n                        className=\"overall-progress-fill\"\n                        style={{\n                            width: `${dashboardData.totalFlats > 0 ? (dashboardData.completedInstallations / dashboardData.totalFlats * 100) : 0}%`\n                        }}\n                    ></div>\n                </div>\n                <div className=\"overall-progress-text\">\n                    {dashboardData.totalFlats > 0 ? Math.round(dashboardData.completedInstallations / dashboardData.totalFlats * 100) : 0}% Complete \n                    ({dashboardData.completedInstallations} of {dashboardData.totalFlats} apartments)\n                </div>\n            </div>\n        </div>\n    );\n    return (\n        <div className=\"dashboard-container\">\n            {!dashboardLoading && <ProcessFlowDiagram />}\n            {dashboardLoading && (\n                <div className=\"dashboard-loading\">\n                    Loading dashboard data...\n                </div>\n            )}\n            <div className=\"district-management-section\">\n                <div className=\"section-header\">\n                    <div className=\"header-content\">\n                        <h1 className=\"section-title\">\n                            <span className=\"section-icon\">üè¢</span>\n                            District Management Dashboard\n                        </h1>\n                        <p className=\"section-description\">\n                            Manage districts, reorder priorities, and track installation progress across your network\n                        </p>\n                    </div>\n                    <div className=\"header-stats\">\n                        <div className=\"quick-stat\">\n                            <span className=\"stat-number\">{districts.length}</span>\n                            <span className=\"stat-label\">Total Districts</span>\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"instructions-card\">\n                    <div className=\"instructions-icon\">üéØ</div>\n                    <div className=\"instructions-content\">\n                        <h3>Priority Management</h3>\n                        <p>Drag and drop districts to reorder their priority. The first district gets the highest priority for installation scheduling.</p>\n                    </div>\n                </div>\n                {isLoading && (\n                    <div className=\"loading-overlay\">\n                        <BounceLoader color=\"#3498db\" />\n                    </div>\n                )}\n                {error && (\n                    <div className=\"error-message\">\n                        {error}\n                    </div>\n                )}\n                {isSaving && (\n                    <div className=\"saving-message\">\n                        Saving priority changes...\n                    </div>\n                )}\n                {!isLoading && districts.length === 0 && !error && (\n                    <div className=\"empty-state\">\n                        <div className=\"empty-icon\">üèóÔ∏è</div>\n                        <h3>No Districts Found</h3>\n                        <p>Start by creating your first district to organize your network infrastructure.</p>\n                    </div>\n                )}\n                {districts.length > 0 && (\n                    <DragDropContext onDragEnd={onDragEnd}>\n                        <Droppable droppableId=\"districts\">\n                            {(provided) => (\n                                <div \n                                    {...provided.droppableProps} \n                                    ref={provided.innerRef}\n                                    className=\"districts-container\"\n                                >\n                                    {districts.map((district, index) => (\n                                        <Draggable \n                                            key={district._id} \n                                            draggableId={district._id} \n                                            index={index}\n                                        >\n                                            {(provided, snapshot) => (\n                                                <div\n                                                    ref={provided.innerRef}\n                                                    {...provided.draggableProps}\n                                                    className={`district-card ${snapshot.isDragging ? 'dragging' : ''}`}\n                                                >\n                                                    <div className=\"district-header\">\n                                                        <div className=\"district-info\">\n                                                            <h3>\n                                                                <span className=\"district-icon\">üè¢</span>\n                                                                {district.name}\n                                                            </h3>\n                                                            <div className=\"district-meta\">\n                                                                {district.area?.name && (\n                                                                    <span className=\"area-tag\">üìç {district.area.name}</span>\n                                                                )}\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"district-priority\">\n                                                            <span className=\"priority-icon\">üéØ</span>\n                                                            #{index + 1}\n                                                            {index === 0 && <span className=\"priority-text\">Priority</span>}\n                                                        </div>\n                                                        <div {...provided.dragHandleProps} className=\"drag-handle\">‚ãÆ‚ãÆ</div>\n                                                    </div>\n                                                    <div className=\"stats-container\">\n                                                        <div className=\"stat-item\">\n                                                            <span className=\"stat-label\">Total Flats:</span>\n                                                            <span className=\"stat-value\">{district.stats?.totalFlats || 0}</span>\n                                                        </div>\n                                                        <div className=\"stat-item\">\n                                                            <span className=\"stat-label\">Completed:</span>\n                                                            <span className=\"stat-value\">{district.stats?.completedFlats || 0}</span>\n                                                        </div>\n                                                        <div className=\"stat-item\">\n                                                            <span className=\"stat-label\">Remaining:</span>\n                                                            <span className=\"stat-value\">{district.stats?.remainingFlats || 0}</span>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"progress-section\">\n                                                        <div className=\"progress-header\">\n                                                            <span>Progress</span>\n                                                            <span>{district.stats?.completionPercentage || 0}%</span>\n                                                        </div>\n                                                        <div className=\"progress-bar-background\">\n                                                            <div \n                                                                className=\"progress-bar\"\n                                                                style={{ \n                                                                    width: `${district.stats?.completionPercentage || 0}%`,\n                                                                    backgroundColor: getProgressBarColor(district.stats?.completionPercentage || 0)\n                                                                }}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </Draggable>\n                                    ))}\n                                    {provided.placeholder}\n                                </div>\n                            )}\n                        </Droppable>\n                    </DragDropContext>\n                )}\n            </div>\n        </div>\n    );\n};\nexport default AdminDistrictManagementPage;"],"names":["BASE_URL","process","REACT_APP_API_BASE_URL","axiosPublic","axios","baseURL","headers","withCredentials","axiosPrivate","interceptors","response","use","async","error","status","localStorage","removeItem","window","location","href","Promise","reject","auth","setAuth","logout","useAuth","useEffect","requestIntercept","config","accessToken","responseIntercept","prevRequest","sent","logger","newAccessToken","data","prev","setItem","refreshError","useAxiosPrivate","isLoading","setIsLoading","useState","districts","setDistricts","setError","isSaving","setIsSaving","dashboardData","setDashboardData","totalCities","totalAreas","totalDistricts","totalBuildings","totalFlats","completedInstallations","pendingInstallations","scheduledAppointments","dashboardLoading","setDashboardLoading","fetchAllDistricts","get","fetchDashboardData","ProcessFlowDiagram","className","style","width","Math","round","length","BounceLoader","color","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","post","map","district","id","_id","droppableId","provided","droppableProps","ref","innerRef","draggableId","snapshot","percentage","draggableProps","isDragging","name","area","dragHandleProps","stats","completedFlats","remainingFlats","completionPercentage","backgroundColor","placeholder"],"sourceRoot":""}