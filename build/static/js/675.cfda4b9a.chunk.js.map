{"version":3,"file":"static/js/675.cfda4b9a.chunk.js","mappings":"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","sources":["pages/TechnicalPlanningApartmentSchedulePage.js"],"sourcesContent":["// Technical planning interface for scheduling apartments with technical appointment options.\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport logger from '../utils/logger';\nimport useAxiosPrivate from '../hooks/useAxiosPrivate';\nimport { categorizeBuilding, generateHBNumber } from '../utils/buildingCategorization';\nimport { LoadingState } from '../components/ui';\nimport '../styles/tsApartmentDetails.css';\nconst TechnicalPlanningApartmentSchedulePage = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const axiosPrivate = useAxiosPrivate();\n    const [building, setBuilding] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedApartments, setSelectedApartments] = useState([]);\n    const [technischeSchouwers, setTechnischeSchouwers] = useState([]);\n    const [appointmentData, setAppointmentData] = useState({\n        date: '',\n        startTime: '',\n        endTime: '',\n        weekNumber: null,\n        technischeSchouwerName: ''\n    });\n    const [flatAppointments, setFlatAppointments] = useState({});\n    const calculateWeekNumber = (date) => {\n        const currentDate = new Date(date);\n        const startDate = new Date(currentDate.getFullYear(), 0, 1);\n        const days = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000));\n        const weekNumber = Math.ceil(days / 7);\n        return weekNumber;\n    };\n\n    // HB Number generation is now handled by the centralized generateHBNumber function\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toISOString().split('T')[0];\n    };\n    const fetchTechnischeSchouwers = async () => {\n        try {\n            const response = await axiosPrivate.get('/api/users');\n            const users = response.data;\n            const schouwers = users.filter(user => {\n                return user.roles &&\n                    typeof user.roles === 'object' &&\n                    user.roles.TechnischeSchouwer === 8687;\n            });\n            logger.log('Found Technische Schouwers:', schouwers);\n            setTechnischeSchouwers(schouwers);\n        } catch (error) {\n            logger.error('Error fetching technische schouwers:', error);\n        }\n    };\n    const fetchBuilding = async () => {\n        try {\n            const { data } = await axiosPrivate.get(`/api/building/${id}`);\n            setBuilding(data);\n            const initialFlatAppointments = {};\n            data.flats.forEach((flat) => {\n                if (flat.technischePlanning?.appointmentBooked?.date) {\n                    initialFlatAppointments[flat._id] = {\n                        date: formatDate(flat.technischePlanning.appointmentBooked.date),\n                        startTime: flat.technischePlanning.appointmentBooked.startTime,\n                        endTime: flat.technischePlanning.appointmentBooked.endTime,\n                        weekNumber: flat.technischePlanning.appointmentBooked.weekNumber,\n                        technischeSchouwerName: flat.technischePlanning.technischeSchouwerName || ''\n                    };\n                }\n            });\n            setFlatAppointments(initialFlatAppointments);\n            const apartmentsWithAppointments = data.flats\n                .filter(flat => flat.technischePlanning?.appointmentBooked?.date)\n                .map(flat => flat._id);\n            setSelectedApartments(apartmentsWithAppointments);\n            setLoading(false);\n        } catch (error) {\n            logger.error('Error fetching building data', error);\n            setLoading(false);\n        }\n    };\n    useEffect(() => {\n        fetchBuilding();\n        fetchTechnischeSchouwers(); \n    }, [id, axiosPrivate]);\n    const handleApartmentSelection = (flatId) => {\n        setSelectedApartments((prevSelected) =>\n            prevSelected.includes(flatId)\n                ? prevSelected.filter((id) => id !== flatId)\n                : [...prevSelected, flatId]\n        );\n    };\n    const handleAppointmentChange = (e) => {\n        const { name, value } = e.target;\n        setAppointmentData((prevData) => ({\n            ...prevData,\n            [name]: value,\n            ...(name === 'date' ? { weekNumber: calculateWeekNumber(value) } : {})\n        }));\n    };\n    const handleAppointmentSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        try {\n            await Promise.all(\n                selectedApartments.map(async (flatId) => {\n                    await axiosPrivate.put(`/api/apartment/${flatId}/technische-planning`, {\n                        appointmentBooked: {\n                            date: appointmentData.date,\n                            startTime: appointmentData.startTime,\n                            endTime: appointmentData.endTime,\n                            weekNumber: appointmentData.weekNumber\n                        },\n                        technischeSchouwerName: appointmentData.technischeSchouwerName \n                    });\n                })\n            );\n            await fetchBuilding();\n            alert('Appointments saved successfully!');\n        } catch (error) {\n            logger.error('Error saving appointments:', error);\n            alert('Error saving appointments. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n    if (loading) return <LoadingState message=\"Loading building data...\" />;\n    \n    const flats = building.flats || [];\n    const hbNumber = generateHBNumber(building, flats);\n    const buildingTitle = `${building.address}${hbNumber ? ` (${hbNumber})` : ''}`;\n    \n    return (\n        <div className=\"ts-apartmentDetailsContainer\">\n            <h2>Apartment Schedule for {buildingTitle}</h2>\n            <div className=\"ts-columns\">\n                <div className=\"ts-leftColumn\">\n                    <h3>Select Apartments for Appointment</h3>\n                    {building.flats.map((flat) => (\n                        <div key={flat._id} className=\"ts-apartmentDetails\">\n                            <label>\n                                <input\n                                    type=\"checkbox\"\n                                    checked={selectedApartments.includes(flat._id)}\n                                    onChange={() => handleApartmentSelection(flat._id)}\n                                />\n                                {flat.adres} {flat.huisNummer}{flat.toevoeging}\n                            </label>\n                            {selectedApartments.includes(flat._id) && flatAppointments[flat._id] && (\n                                <div className=\"appointmentDetails\">\n                                    <div className=\"ts-formGroup\">\n                                        <label>Current Appointment:</label>\n                                        <div>\n                                            Date: {new Date(flatAppointments[flat._id].date).toLocaleDateString()}\n                                        </div>\n                                        <div>\n                                            Time: {flatAppointments[flat._id].startTime} - {flatAppointments[flat._id].endTime}\n                                        </div>\n                                        <div>\n                                            Week: {flatAppointments[flat._id].weekNumber}\n                                        </div>\n                                        {flatAppointments[flat._id].technischeSchouwerName && (\n                                            <div>\n                                                Technische Schouwer: {flatAppointments[flat._id].technischeSchouwerName}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n                <div className=\"ts-rightColumn\">\n                    <div style={{\n                        background: 'linear-gradient(135deg, #f8fafc 0%, #ffffff 100%)',\n                        border: '2px solid #e2e8f0',\n                        borderRadius: '16px',\n                        padding: '32px',\n                        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\n                    }}>\n                        <h3 style={{\n                            color: '#1e293b',\n                            fontSize: '24px',\n                            fontWeight: '600',\n                            margin: '0 0 24px 0',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '12px'\n                        }}>\n                            <span style={{fontSize: '24px'}}>üìÖ</span>\n                            Schedule Technical Inspection\n                        </h3>\n                        <form onSubmit={handleAppointmentSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n                            <div>\n                                <label \n                                    style={{\n                                        display: 'block',\n                                        marginBottom: '8px',\n                                        color: '#374151',\n                                        fontSize: '16px',\n                                        fontWeight: '500'\n                                    }}\n                                >\n                                    üìÖ Inspection Date\n                                </label>\n                                <input\n                                    type=\"date\"\n                                    name=\"date\"\n                                    value={appointmentData.date}\n                                    onChange={handleAppointmentChange}\n                                    required\n                                    style={{\n                                        width: '100%',\n                                        padding: '12px 16px',\n                                        border: '2px solid #e5e7eb',\n                                        borderRadius: '10px',\n                                        fontSize: '16px',\n                                        fontFamily: 'inherit',\n                                        transition: 'all 0.2s ease',\n                                        backgroundColor: '#ffffff',\n                                        color: '#374151',\n                                        outline: 'none',\n                                        boxSizing: 'border-box'\n                                    }}\n                                    onFocus={(e) => {\n                                        e.target.style.borderColor = '#667eea';\n                                        e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\n                                    }}\n                                    onBlur={(e) => {\n                                        e.target.style.borderColor = '#e5e7eb';\n                                        e.target.style.boxShadow = 'none';\n                                    }}\n                                />\n                            </div>\n                            <div style={{ display: 'grid', gap: '20px', gridTemplateColumns: '1fr 1fr' }}>\n                                <div>\n                                    <label \n                                        style={{\n                                            display: 'block',\n                                            marginBottom: '8px',\n                                            color: '#374151',\n                                            fontSize: '16px',\n                                            fontWeight: '500'\n                                        }}\n                                    >\n                                        üïê Start Time\n                                    </label>\n                                    <input\n                                        type=\"time\"\n                                        name=\"startTime\"\n                                        value={appointmentData.startTime}\n                                        onChange={handleAppointmentChange}\n                                        required\n                                        style={{\n                                            width: '100%',\n                                            padding: '12px 16px',\n                                            border: '2px solid #e5e7eb',\n                                            borderRadius: '10px',\n                                            fontSize: '16px',\n                                            fontFamily: 'inherit',\n                                            transition: 'all 0.2s ease',\n                                            backgroundColor: '#ffffff',\n                                            color: '#374151',\n                                            outline: 'none',\n                                            boxSizing: 'border-box'\n                                        }}\n                                        onFocus={(e) => {\n                                            e.target.style.borderColor = '#667eea';\n                                            e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\n                                        }}\n                                        onBlur={(e) => {\n                                            e.target.style.borderColor = '#e5e7eb';\n                                            e.target.style.boxShadow = 'none';\n                                        }}\n                                    />\n                                </div>\n                                <div>\n                                    <label \n                                        style={{\n                                            display: 'block',\n                                            marginBottom: '8px',\n                                            color: '#374151',\n                                            fontSize: '16px',\n                                            fontWeight: '500'\n                                        }}\n                                    >\n                                        üïê End Time\n                                    </label>\n                                    <input\n                                        type=\"time\"\n                                        name=\"endTime\"\n                                        value={appointmentData.endTime}\n                                        onChange={handleAppointmentChange}\n                                        required\n                                        style={{\n                                            width: '100%',\n                                            padding: '12px 16px',\n                                            border: '2px solid #e5e7eb',\n                                            borderRadius: '10px',\n                                            fontSize: '16px',\n                                            fontFamily: 'inherit',\n                                            transition: 'all 0.2s ease',\n                                            backgroundColor: '#ffffff',\n                                            color: '#374151',\n                                            outline: 'none',\n                                            boxSizing: 'border-box'\n                                        }}\n                                        onFocus={(e) => {\n                                            e.target.style.borderColor = '#667eea';\n                                            e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\n                                        }}\n                                        onBlur={(e) => {\n                                            e.target.style.borderColor = '#e5e7eb';\n                                            e.target.style.boxShadow = 'none';\n                                        }}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <label \n                                    style={{\n                                        display: 'block',\n                                        marginBottom: '8px',\n                                        color: '#374151',\n                                        fontSize: '16px',\n                                        fontWeight: '500'\n                                    }}\n                                >\n                                    üìä Week Number (Auto-calculated)\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    name=\"weekNumber\"\n                                    value={appointmentData.weekNumber || ''}\n                                    readOnly\n                                    style={{\n                                        width: '100%',\n                                        padding: '12px 16px',\n                                        border: '2px solid #e5e7eb',\n                                        borderRadius: '10px',\n                                        fontSize: '16px',\n                                        fontFamily: 'inherit',\n                                        backgroundColor: '#f9fafb',\n                                        color: '#6b7280',\n                                        outline: 'none',\n                                        boxSizing: 'border-box'\n                                    }}\n                                />\n                            </div>\n                            <div>\n                                <label \n                                    style={{\n                                        display: 'block',\n                                        marginBottom: '8px',\n                                        color: '#374151',\n                                        fontSize: '16px',\n                                        fontWeight: '500'\n                                    }}\n                                >\n                                    üë∑ Technical Inspector\n                                </label>\n                                <select\n                                    name=\"technischeSchouwerName\"\n                                    value={appointmentData.technischeSchouwerName}\n                                    onChange={handleAppointmentChange}\n                                    style={{\n                                        width: '100%',\n                                        padding: '12px 16px',\n                                        border: '2px solid #e5e7eb',\n                                        borderRadius: '10px',\n                                        fontSize: '16px',\n                                        fontFamily: 'inherit',\n                                        transition: 'all 0.2s ease',\n                                        backgroundColor: '#ffffff',\n                                        color: '#374151',\n                                        outline: 'none',\n                                        boxSizing: 'border-box'\n                                    }}\n                                    onFocus={(e) => {\n                                        e.target.style.borderColor = '#667eea';\n                                        e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\n                                    }}\n                                    onBlur={(e) => {\n                                        e.target.style.borderColor = '#e5e7eb';\n                                        e.target.style.boxShadow = 'none';\n                                    }}\n                                >\n                                    <option value=\"\">Select a Technical Inspector</option>\n                                    {technischeSchouwers.map(schouwer => (\n                                        <option key={schouwer._id} value={schouwer.name}>\n                                            {schouwer.name}\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n                            <button\n                                type=\"submit\"\n                                disabled={loading || selectedApartments.length === 0}\n                                style={{\n                                    background: loading || selectedApartments.length === 0\n                                        ? 'linear-gradient(135deg, #9ca3af, #6b7280)' \n                                        : 'linear-gradient(135deg, #667eea, #764ba2)',\n                                    color: 'white',\n                                    border: 'none',\n                                    padding: '14px 28px',\n                                    borderRadius: '10px',\n                                    fontSize: '16px',\n                                    fontWeight: '600',\n                                    cursor: loading || selectedApartments.length === 0 ? 'not-allowed' : 'pointer',\n                                    transition: 'all 0.3s ease',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    gap: '10px',\n                                    justifyContent: 'center',\n                                    alignSelf: 'flex-start'\n                                }}\n                                onMouseEnter={(e) => {\n                                    if (!loading && selectedApartments.length > 0) {\n                                        e.target.style.transform = 'translateY(-2px)';\n                                        e.target.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.3)';\n                                    }\n                                }}\n                                onMouseLeave={(e) => {\n                                    e.target.style.transform = 'translateY(0)';\n                                    e.target.style.boxShadow = 'none';\n                                }}\n                            >\n                                <span style={{fontSize: '18px'}}>\n                                    {loading ? '‚è≥' : 'üíæ'}\n                                </span>\n                                {loading ? 'Saving Appointment...' : 'Save Appointment'}\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default TechnicalPlanningApartmentSchedulePage;"],"names":["id","useParams","axiosPrivate","useNavigate","useAxiosPrivate","building","setBuilding","useState","loading","setLoading","selectedApartments","setSelectedApartments","technischeSchouwers","setTechnischeSchouwers","appointmentData","setAppointmentData","date","startTime","endTime","weekNumber","technischeSchouwerName","flatAppointments","setFlatAppointments","calculateWeekNumber","currentDate","Date","startDate","getFullYear","days","Math","floor","ceil","formatDate","dateString","toISOString","split","fetchBuilding","async","data","get","initialFlatAppointments","flats","forEach","flat","technischePlanning","appointmentBooked","_id","apartmentsWithAppointments","filter","map","error","logger","useEffect","schouwers","user","roles","TechnischeSchouwer","fetchTechnischeSchouwers","handleAppointmentChange","e","name","value","target","prevData","message","hbNumber","generateHBNumber","buildingTitle","address","className","type","checked","includes","onChange","handleApartmentSelection","flatId","prevSelected","adres","huisNummer","toevoeging","toLocaleDateString","style","background","border","borderRadius","padding","boxShadow","color","fontSize","fontWeight","margin","display","alignItems","gap","onSubmit","preventDefault","Promise","all","put","alert","flexDirection","marginBottom","required","width","fontFamily","transition","backgroundColor","outline","boxSizing","onFocus","borderColor","onBlur","gridTemplateColumns","readOnly","schouwer","disabled","length","cursor","justifyContent","alignSelf","onMouseEnter","transform","onMouseLeave"],"sourceRoot":""}