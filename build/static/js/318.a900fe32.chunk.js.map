{"version":3,"file":"static/js/318.a900fe32.chunk.js","mappings":"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","sources":["api/axios.js","hooks/useAxiosPrivate.js","components/appointment/AppointmentList.js","components/appointment/AppointmentForm.js","components/UnifiedAppointmentScheduler.js","pages/UnifiedAppointmentPage.js"],"sourcesContent":["// Axios configuration for API requests including base URL, interceptors, and request/response handling.\n\nimport axios from 'axios'\n\nconst BASE_URL =\n    process.env.REACT_APP_API_BASE_URL ||\n    (process.env.NODE_ENV === 'production'\n        ? 'https://backend-dynet2-1.onrender.com'\n        : 'http://localhost:5500')\n\nconst axiosPublic = axios.create({\n    baseURL: BASE_URL,\n    headers: {'Content-Type': 'application/json'},\n    withCredentials: true,\n})\n\nconst axiosPrivate = axios.create({\n    baseURL: BASE_URL,\n    headers: {'Content-Type': 'application/json'},\n    withCredentials: true,\n})\n\naxiosPrivate.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n        if (error.response?.status === 401) {\n            localStorage.removeItem('accessToken')\n            localStorage.removeItem('roles')\n            window.location.href = '/login'\n        }\n        return Promise.reject(error)\n    }\n)\n\nexport { axiosPublic }\nexport default axiosPrivate\n","// Custom hook providing axios instance with automatic JWT token attachment for authenticated requests.\n\nimport {useEffect} from 'react';\nimport axiosPrivate from '../api/axios';\nimport logger from '../utils/logger';\nimport useAuth from './useAuth';\nimport axios from 'axios';\nconst useAxiosPrivate = () => {\n    const {auth, setAuth, logout} = useAuth();\n    useEffect(() => {\n        const requestIntercept = axiosPrivate.interceptors.request.use(\n            config => {\n                if (!config.headers['Authorization']) {\n                    config.headers['Authorization'] = `Bearer ${auth?.accessToken}`;\n                }\n                return config;\n            },\n            (error) => Promise.reject(error)\n        );\n        const responseIntercept = axiosPrivate.interceptors.response.use(\n            response => response,\n            async (error) => {\n                const prevRequest = error?.config;\n                if (error.response?.status === 403 && !prevRequest?.sent) {\n                    prevRequest.sent = true;\n                    try {\n                        logger.log('Token expired, attempting refresh...');\n                        const refreshResponse = await axios.get('/refresh', {\n                            withCredentials: true\n                        });\n                        const newAccessToken = refreshResponse.data.accessToken;\n                        setAuth(prev => ({ ...prev, accessToken: newAccessToken }));\n                        localStorage.setItem('accessToken', newAccessToken);\n                        prevRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\n                        return axiosPrivate(prevRequest);\n                    } catch (refreshError) {\n                        logger.error('Token refresh failed:', refreshError);\n                        logout();\n                    }\n                }\n                if (error.response?.status === 401) {\n                    logout();\n                }\n                return Promise.reject(error);\n            }\n        );\n        return () => {\n            axiosPrivate.interceptors.request.eject(requestIntercept);\n            axiosPrivate.interceptors.response.eject(responseIntercept);\n        };\n    }, [auth, setAuth, logout]);\n    return axiosPrivate;\n};\nexport default useAxiosPrivate;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Apartment list component for appointment scheduling\n * Displays a list of apartments with checkboxes for selection\n */\nconst AppointmentList = ({\n    apartments,\n    selectedApartments,\n    flatAppointments,\n    isHASScheduling,\n    onApartmentSelect,\n    isSingleApartment\n}) => {\n    /**\n     * Get display name for an apartment\n     */\n    const getApartmentDisplayName = (apartment) => {\n        if (apartment.adres) {\n            return `${apartment.adres} ${apartment.huisNummer || ''}${apartment.toevoeging || ''}`;\n        }\n        return apartment.flatNumber || apartment.name || `Apartment ${apartment._id.slice(-4)}`;\n    };\n\n    /**\n     * Render single apartment view\n     */\n    if (isSingleApartment && apartments.length === 1) {\n        const apartment = apartments[0];\n        const existingAppointment = flatAppointments[apartment._id];\n        \n        return (\n            <div className=\"usc-singleApartment\">\n                <h3>Scheduling for: {getApartmentDisplayName(apartment)}</h3>\n                {existingAppointment && (\n                    <div className=\"usc-currentAppointment\">\n                        <h4>Current Appointment:</h4>\n                        <p><strong>Date:</strong> {new Date(existingAppointment.date).toLocaleDateString()}</p>\n                        <p><strong>Time:</strong> {existingAppointment.startTime} - {existingAppointment.endTime}</p>\n                        <p><strong>Week:</strong> {existingAppointment.weekNumber}</p>\n                        {isHASScheduling && (\n                            <>\n                                <p><strong>Type:</strong> {existingAppointment.type}</p>\n                                <p><strong>HAS Monteur:</strong> {existingAppointment.hasMonteurName}</p>\n                            </>\n                        )}\n                        {!isHASScheduling && (\n                            <p><strong>Technische Schouwer:</strong> {existingAppointment.technischeSchouwerName}</p>\n                        )}\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    /**\n     * Render multi-apartment selection list\n     */\n    return (\n        <div className=\"usc-apartmentList\">\n            <h3>Select Apartments for {isHASScheduling ? 'HAS' : 'Technical Planning'} Appointment</h3>\n            {apartments.map(apartment => {\n                const isSelected = selectedApartments.includes(apartment._id);\n                const existingAppointment = flatAppointments[apartment._id];\n                \n                return (\n                    <div key={apartment._id} className=\"usc-apartmentItem\">\n                        <label className=\"usc-apartmentLabel\">\n                            <input\n                                type=\"checkbox\"\n                                checked={isSelected}\n                                onChange={() => onApartmentSelect(apartment._id)}\n                                className=\"usc-checkbox\"\n                            />\n                            <span className=\"usc-apartmentAddress\">\n                                {getApartmentDisplayName(apartment)}\n                                {existingAppointment && (\n                                    <span className=\"usc-hasAppointmentIndicator\"> (Has existing appointment)</span>\n                                )}\n                            </span>\n                        </label>\n                        {existingAppointment && (\n                            <div className=\"usc-existingAppointmentDetails\">\n                                <p>Date: {new Date(existingAppointment.date).toLocaleDateString()}</p>\n                                <p>Time: {existingAppointment.startTime} - {existingAppointment.endTime}</p>\n                                <p>Week: {existingAppointment.weekNumber}</p>\n                                {isHASScheduling && (\n                                    <>\n                                        <p>Type: {existingAppointment.type}</p>\n                                        <p>HAS Monteur: {existingAppointment.hasMonteurName}</p>\n                                    </>\n                                )}\n                                {!isHASScheduling && (\n                                    <p>Technische Schouwer: {existingAppointment.technischeSchouwerName}</p>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nAppointmentList.propTypes = {\n    apartments: PropTypes.arrayOf(PropTypes.shape({\n        _id: PropTypes.string.isRequired,\n        adres: PropTypes.string,\n        huisNummer: PropTypes.string,\n        toevoeging: PropTypes.string,\n        flatNumber: PropTypes.string,\n        name: PropTypes.string\n    })).isRequired,\n    selectedApartments: PropTypes.arrayOf(PropTypes.string).isRequired,\n    flatAppointments: PropTypes.object,\n    isHASScheduling: PropTypes.bool.isRequired,\n    onApartmentSelect: PropTypes.func.isRequired,\n    isSingleApartment: PropTypes.bool\n};\n\nAppointmentList.defaultProps = {\n    flatAppointments: {},\n    isSingleApartment: false\n};\n\nexport default AppointmentList;\n","// Form component for entering appointment details (date, time, personnel selection)\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst AppointmentForm = ({\n    appointmentData,\n    onAppointmentChange,\n    onSubmit,\n    onCancel,\n    availablePersonnel,\n    isHASScheduling,\n    loading,\n    canSubmit\n}) => {\n    return (\n        <div className=\"usc-appointmentForm\">\n            <h3>Set {isHASScheduling ? 'HAS' : 'Technical Planning'} Appointment Details</h3>\n            <form onSubmit={onSubmit}>\n                {/* Appointment Type (HAS only) */}\n                {isHASScheduling && (\n                    <div className=\"usc-formGroup\">\n                        <label>Appointment Type:</label>\n                        <div className=\"usc-radioGroup\">\n                            {['HAS', 'Storing', 'Complaint'].map(type => (\n                                <label key={type} className=\"usc-radioLabel\">\n                                    <input\n                                        type=\"radio\"\n                                        name=\"type\"\n                                        value={type}\n                                        checked={appointmentData.type === type}\n                                        onChange={onAppointmentChange}\n                                    />\n                                    {type}\n                                </label>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Complaint Details (HAS Complaint only) */}\n                {isHASScheduling && appointmentData.type === 'Complaint' && (\n                    <div className=\"usc-formGroup\">\n                        <label>Complaint Details:</label>\n                        <textarea\n                            name=\"complaintDetails\"\n                            value={appointmentData.complaintDetails}\n                            onChange={onAppointmentChange}\n                            className=\"usc-textarea\"\n                            rows=\"4\"\n                            placeholder=\"Enter complaint details\"\n                            required={appointmentData.type === 'Complaint'}\n                        />\n                    </div>\n                )}\n\n                {/* Date */}\n                <div className=\"usc-formGroup\">\n                    <label>Appointment Date:</label>\n                    <input\n                        type=\"date\"\n                        name=\"date\"\n                        value={appointmentData.date}\n                        onChange={onAppointmentChange}\n                        className=\"usc-input\"\n                        required\n                    />\n                </div>\n\n                {/* Time Range */}\n                <div className=\"usc-formRow\">\n                    <div className=\"usc-formGroup\">\n                        <label>Start Time:</label>\n                        <input\n                            type=\"time\"\n                            name=\"startTime\"\n                            value={appointmentData.startTime}\n                            onChange={onAppointmentChange}\n                            className=\"usc-input\"\n                            required\n                        />\n                    </div>\n                    <div className=\"usc-formGroup\">\n                        <label>End Time:</label>\n                        <input\n                            type=\"time\"\n                            name=\"endTime\"\n                            value={appointmentData.endTime}\n                            onChange={onAppointmentChange}\n                            className=\"usc-input\"\n                            required\n                        />\n                    </div>\n                </div>\n\n                {/* Week Number (readonly) */}\n                <div className=\"usc-formGroup\">\n                    <label>Week Number:</label>\n                    <input\n                        type=\"number\"\n                        name=\"weekNumber\"\n                        value={appointmentData.weekNumber || ''}\n                        readOnly\n                        className=\"usc-input usc-readonly\"\n                    />\n                </div>\n\n                {/* Personnel Selection */}\n                <div className=\"usc-formGroup\">\n                    <label>\n                        {isHASScheduling ? 'HAS Monteur:' : 'Technische Schouwer:'}\n                    </label>\n                    <select\n                        name={isHASScheduling ? 'hasMonteurName' : 'technischeSchouwerName'}\n                        value={isHASScheduling ? appointmentData.hasMonteurName : appointmentData.technischeSchouwerName}\n                        onChange={onAppointmentChange}\n                        className=\"usc-select\"\n                        required\n                    >\n                        <option value=\"\">\n                            Select a {isHASScheduling ? 'HAS Monteur' : 'Technische Schouwer'}\n                        </option>\n                        {availablePersonnel.map(person => (\n                            <option key={person._id} value={person.name}>\n                                {person.name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"usc-buttonGroup\">\n                    <button\n                        type=\"submit\"\n                        className=\"usc-saveButton\"\n                        disabled={loading || !canSubmit}\n                    >\n                        {loading ? 'Saving...' : 'Save Appointment'}\n                    </button>\n                    {onCancel && (\n                        <button\n                            type=\"button\"\n                            onClick={onCancel}\n                            className=\"usc-cancelButton\"\n                            disabled={loading}\n                        >\n                            Cancel\n                        </button>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n};\n\nAppointmentForm.propTypes = {\n    appointmentData: PropTypes.shape({\n        date: PropTypes.string,\n        startTime: PropTypes.string,\n        endTime: PropTypes.string,\n        weekNumber: PropTypes.number,\n        type: PropTypes.string,\n        hasMonteurName: PropTypes.string,\n        technischeSchouwerName: PropTypes.string,\n        complaintDetails: PropTypes.string\n    }).isRequired,\n    onAppointmentChange: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    onCancel: PropTypes.func,\n    availablePersonnel: PropTypes.arrayOf(PropTypes.shape({\n        _id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired\n    })),\n    isHASScheduling: PropTypes.bool,\n    loading: PropTypes.bool,\n    canSubmit: PropTypes.bool\n};\n\nAppointmentForm.defaultProps = {\n    availablePersonnel: [],\n    isHASScheduling: false,\n    loading: false,\n    canSubmit: true\n};\n\nexport default AppointmentForm;\n","// Comprehensive appointment scheduling component handling both technical and HAS planning appointments.\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport useAxiosPrivate from '../hooks/useAxiosPrivate';\nimport { AppointmentList, AppointmentForm } from './appointment';\nimport '../styles/unifiedAppointmentScheduler.css';\nimport logger from '../utils/logger';\n\nconst UnifiedAppointmentScheduler = ({\n    apartments = [],\n    scheduleType,\n    onSaveSuccess,\n    onCancel,\n    preselectedApartments = []\n}) => {\n    const axiosPrivate = useAxiosPrivate();\n    const [loading, setLoading] = useState(false);\n    const calculateWeekNumber = (date) => {\n        const currentDate = new Date(date);\n        const firstJan = new Date(currentDate.getFullYear(), 0, 1);\n        const days = Math.floor((currentDate - firstJan) / (24 * 60 * 60 * 1000));\n        return Math.ceil((currentDate.getDay() + 1 + days) / 7);\n    };\n\n    const [selectedApartments, setSelectedApartments] = useState(preselectedApartments);\n    const [appointmentData, setAppointmentData] = useState(() => {\n        const today = new Date().toISOString().split('T')[0];\n        return {\n            date: today,\n            startTime: '',\n            endTime: '',\n            weekNumber: calculateWeekNumber(today),\n            type: scheduleType === 'HAS' ? 'HAS' : 'Technical',\n            hasMonteurName: '',\n            technischeSchouwerName: '',\n            complaintDetails: ''\n        };\n    });\n    const [availablePersonnel, setAvailablePersonnel] = useState([]);\n    const [flatAppointments, setFlatAppointments] = useState({});\n    const isHASScheduling = scheduleType === 'HAS';\n    const isSingleApartment = apartments.length === 1;\n\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toISOString().split('T')[0];\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => {\n        fetchAvailablePersonnel();\n        loadExistingAppointments();\n        if (isSingleApartment) {\n            setSelectedApartments([apartments[0]._id]);\n            loadSingleApartmentData();\n        } else {\n            const apartmentsWithAppointments = apartments.filter(apartment => {\n                const appointmentData = isHASScheduling \n                    ? apartment.hasMonteur?.appointmentBooked\n                    : apartment.technischePlanning?.appointmentBooked;\n                return appointmentData?.date;\n            }).map(apartment => apartment._id);\n            const combinedPreselected = [...new Set([...preselectedApartments, ...apartmentsWithAppointments])];\n            setSelectedApartments(combinedPreselected);\n            if (combinedPreselected.length === 1) {\n                const selectedApartment = apartments.find(apt => apt._id === combinedPreselected[0]);\n                if (selectedApartment) {\n                    const appointmentData = isHASScheduling \n                        ? selectedApartment.hasMonteur?.appointmentBooked\n                        : selectedApartment.technischePlanning?.appointmentBooked;\n                    if (appointmentData?.date) {\n                        setAppointmentData({\n                            date: formatDate(appointmentData.date),\n                            startTime: appointmentData.startTime || '',\n                            endTime: appointmentData.endTime || '',\n                            weekNumber: appointmentData.weekNumber || calculateWeekNumber(appointmentData.date),\n                            type: appointmentData.type || (isHASScheduling ? 'HAS' : 'Technical'),\n                            hasMonteurName: isHASScheduling ? selectedApartment.hasMonteur?.hasMonteurName || '' : '',\n                            technischeSchouwerName: !isHASScheduling ? selectedApartment.technischePlanning?.technischeSchouwerName || '' : '',\n                            complaintDetails: appointmentData.complaintDetails || ''\n                        });\n                    }\n                }\n            }\n        }\n    }, [apartments, scheduleType, preselectedApartments, isHASScheduling]);\n    const fetchAvailablePersonnel = async () => {\n        try {\n            const response = await axiosPrivate.get('/api/users');\n            const users = response.data;\n            let filteredUsers = [];\n            if (isHASScheduling) {\n                filteredUsers = users.filter(user => \n                    user.roles && typeof user.roles === 'object' && \n                    user.roles.HASMonteur === 2023\n                );\n            } else {\n                filteredUsers = users.filter(user => \n                    user.roles && typeof user.roles === 'object' && \n                    user.roles.TechnischeSchouwer === 8687\n                );\n            }\n            setAvailablePersonnel(filteredUsers);\n        } catch (error) {\n            logger.error('Error fetching personnel:', error);\n        }\n    };\n    const loadExistingAppointments = () => {\n        const appointments = {};\n        apartments.forEach(apartment => {\n            const appointmentData = isHASScheduling \n                ? apartment.hasMonteur?.appointmentBooked\n                : apartment.technischePlanning?.appointmentBooked;\n            if (appointmentData?.date) {\n                appointments[apartment._id] = {\n                    date: formatDate(appointmentData.date),\n                    startTime: appointmentData.startTime,\n                    endTime: appointmentData.endTime,\n                    weekNumber: appointmentData.weekNumber,\n                    type: appointmentData.type || (isHASScheduling ? 'HAS' : 'Technical'),\n                    hasMonteurName: isHASScheduling ? apartment.hasMonteur?.hasMonteurName || '' : '',\n                    technischeSchouwerName: !isHASScheduling ? apartment.technischePlanning?.technischeSchouwerName || '' : '',\n                    complaintDetails: appointmentData.complaintDetails || ''\n                };\n            }\n        });\n        setFlatAppointments(appointments);\n    };\n    const loadSingleApartmentData = () => {\n        if (apartments.length !== 1) return;\n        const apartment = apartments[0];\n        const appointmentData = isHASScheduling \n            ? apartment.hasMonteur?.appointmentBooked\n            : apartment.technischePlanning?.appointmentBooked;\n        if (appointmentData && appointmentData.date) {\n            setAppointmentData({\n                date: formatDate(appointmentData.date),\n                startTime: appointmentData.startTime || '',\n                endTime: appointmentData.endTime || '',\n                weekNumber: appointmentData.weekNumber || calculateWeekNumber(appointmentData.date),\n                type: appointmentData.type || (isHASScheduling ? 'HAS' : 'Technical'),\n                hasMonteurName: isHASScheduling ? apartment.hasMonteur?.hasMonteurName || '' : '',\n                technischeSchouwerName: !isHASScheduling ? apartment.technischePlanning?.technischeSchouwerName || '' : '',\n                complaintDetails: appointmentData.complaintDetails || ''\n            });\n        } else {\n            const today = new Date().toISOString().split('T')[0];\n            setAppointmentData({\n                date: today,\n                startTime: '',\n                endTime: '',\n                weekNumber: calculateWeekNumber(today),\n                type: isHASScheduling ? 'HAS' : 'Technical',\n                hasMonteurName: isHASScheduling ? apartment.hasMonteur?.hasMonteurName || '' : '',\n                technischeSchouwerName: !isHASScheduling ? apartment.technischePlanning?.technischeSchouwerName || '' : '',\n                complaintDetails: ''\n            });\n        }\n    };\n    const handleApartmentSelection = (apartmentId) => {\n        if (isSingleApartment) return;\n        const newSelectedApartments = selectedApartments.includes(apartmentId) \n            ? selectedApartments.filter(id => id !== apartmentId)\n            : [...selectedApartments, apartmentId];\n        setSelectedApartments(newSelectedApartments);\n        if (newSelectedApartments.length === 1 && flatAppointments[apartmentId]) {\n            const existingAppointment = flatAppointments[apartmentId];\n            setAppointmentData({\n                date: existingAppointment.date,\n                startTime: existingAppointment.startTime,\n                endTime: existingAppointment.endTime,\n                weekNumber: existingAppointment.weekNumber,\n                type: existingAppointment.type,\n                hasMonteurName: existingAppointment.hasMonteurName,\n                technischeSchouwerName: existingAppointment.technischeSchouwerName,\n                complaintDetails: existingAppointment.complaintDetails\n            });\n        } else if (newSelectedApartments.length !== 1) {\n            const today = new Date().toISOString().split('T')[0];\n            setAppointmentData({\n                date: today,\n                startTime: '',\n                endTime: '',\n                weekNumber: calculateWeekNumber(today),\n                type: isHASScheduling ? 'HAS' : 'Technical',\n                hasMonteurName: '',\n                technischeSchouwerName: '',\n                complaintDetails: ''\n            });\n        }\n    };\n    const handleAppointmentChange = (e) => {\n        const { name, value } = e.target;\n        setAppointmentData(prev => ({\n            ...prev,\n            [name]: value,\n            ...(name === 'date' ? { weekNumber: calculateWeekNumber(value) } : {})\n        }));\n    };\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (selectedApartments.length === 0) {\n            alert('Please select at least one apartment.');\n            return;\n        }\n        setLoading(true);\n        try {\n            const appointments = await Promise.all(\n                selectedApartments.map(async (apartmentId) => {\n                    const appointmentPayload = isHASScheduling ? {\n                        appointmentBooked: {\n                            date: appointmentData.date,\n                            startTime: appointmentData.startTime,\n                            endTime: appointmentData.endTime,\n                            weekNumber: appointmentData.weekNumber,\n                            type: appointmentData.type\n                        },\n                        hasMonteurName: appointmentData.hasMonteurName\n                    } : {\n                        appointmentBooked: {\n                            date: appointmentData.date,\n                            startTime: appointmentData.startTime,\n                            endTime: appointmentData.endTime,\n                            weekNumber: appointmentData.weekNumber\n                        },\n                        technischeSchouwerName: appointmentData.technischeSchouwerName\n                    };\n                    if (isHASScheduling && appointmentData.type === 'Complaint' && appointmentData.complaintDetails) {\n                        appointmentPayload.appointmentBooked.complaintDetails = appointmentData.complaintDetails;\n                    }\n                    const endpoint = isHASScheduling \n                        ? `/api/apartment/${apartmentId}/has-monteur`\n                        : `/api/apartment/${apartmentId}/technische-planning`;\n                    const response = await axiosPrivate.put(endpoint, appointmentPayload);\n                    return { apartmentId, data: response.data };\n                })\n            );\n            const updatedAppointments = { ...flatAppointments };\n            appointments.forEach(({ apartmentId, data }) => {\n                const appointmentData = isHASScheduling \n                    ? data.hasMonteur?.appointmentBooked\n                    : data.technischePlanning?.appointmentBooked;\n                if (appointmentData) {\n                    updatedAppointments[apartmentId] = {\n                        date: formatDate(appointmentData.date),\n                        startTime: appointmentData.startTime,\n                        endTime: appointmentData.endTime,\n                        weekNumber: appointmentData.weekNumber,\n                        type: appointmentData.type || (isHASScheduling ? 'HAS' : 'Technical'),\n                        hasMonteurName: isHASScheduling ? data.hasMonteur?.hasMonteurName || '' : '',\n                        technischeSchouwerName: !isHASScheduling ? data.technischePlanning?.technischeSchouwerName || '' : '',\n                        complaintDetails: appointmentData.complaintDetails || ''\n                    };\n                }\n            });\n            setFlatAppointments(updatedAppointments);\n            if (onSaveSuccess) {\n                onSaveSuccess(appointments);\n            }\n            alert(`${isHASScheduling ? 'HAS' : 'Technical Planning'} appointments saved successfully!`);\n        } catch (error) {\n            logger.error('Error saving appointments:', error);\n            alert('Error saving appointments. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"usc-container\">\n            <div className=\"usc-columns\">\n                <div className=\"usc-leftColumn\">\n                    <AppointmentList\n                        apartments={apartments}\n                        selectedApartments={selectedApartments}\n                        flatAppointments={flatAppointments}\n                        isHASScheduling={isHASScheduling}\n                        onApartmentSelect={handleApartmentSelection}\n                        isSingleApartment={isSingleApartment}\n                    />\n                </div>\n                <div className=\"usc-rightColumn\">\n                    <AppointmentForm\n                        appointmentData={appointmentData}\n                        onAppointmentChange={handleAppointmentChange}\n                        onSubmit={handleSubmit}\n                        onCancel={onCancel}\n                        availablePersonnel={availablePersonnel}\n                        isHASScheduling={isHASScheduling}\n                        loading={loading}\n                        canSubmit={selectedApartments.length > 0}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default UnifiedAppointmentScheduler;\n","// Unified appointment scheduling page handling both technical and HAS planning appointment types.\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\nimport logger from '../utils/logger';\nimport useAxiosPrivate from '../hooks/useAxiosPrivate';\nimport useAuth from '../hooks/useAuth';\nimport UnifiedAppointmentScheduler from '../components/UnifiedAppointmentScheduler';\nimport { ROLES } from '../utils/constants';\nconst UnifiedAppointmentPage = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [searchParams] = useSearchParams();\n    const axiosPrivate = useAxiosPrivate();\n    const { auth } = useAuth();\n    const [loading, setLoading] = useState(true);\n    const [apartments, setApartments] = useState([]);\n    const [scheduleType, setScheduleType] = useState('');\n    const [pageTitle, setPageTitle] = useState('');\n    const mode = searchParams.get('mode') || 'single';\n    const type = searchParams.get('type') || '';\n    useEffect(() => {\n        determineScheduleTypeAndFetchData();\n    }, [id, mode, type, auth]);\n    const determineScheduleTypeAndFetchData = async () => {\n        setLoading(true);\n        try {\n            let determinedType = type;\n            if (!determinedType) {\n                if (auth?.roles?.includes(ROLES.HAS_PLANNING)) {\n                    determinedType = 'HAS';\n                } else if (auth?.roles?.includes(ROLES.TECHNICAL_PLANNING)) {\n                    determinedType = 'Technical';\n                } else {\n                    throw new Error('User does not have permission to schedule appointments');\n                }\n            }\n            setScheduleType(determinedType);\n            if (mode === 'building') {\n                await fetchBuildingData(determinedType);\n            } else {\n                await fetchSingleApartmentData(determinedType);\n            }\n        } catch (error) {\n            logger.error('Error determining schedule type or fetching data:', error);\n            alert('Error loading appointment data. Please try again.');\n            navigate(-1);\n        } finally {\n            setLoading(false);\n        }\n    };\n    const fetchBuildingData = async (type) => {\n        try {\n            const response = await axiosPrivate.get(`/api/building/${id}`);\n            const buildingData = response.data;\n            setApartments(buildingData.flats || []);\n            setPageTitle(`${type} Appointment Scheduling - ${buildingData.address || 'Building'}`);\n        } catch (error) {\n            logger.error('Error fetching building data:', error);\n            throw error;\n        }\n    };\n    const fetchSingleApartmentData = async (type) => {\n        try {\n            const response = await axiosPrivate.get(`/api/apartment/${id}`);\n            const apartmentData = response.data;\n            setApartments([apartmentData]);\n            setPageTitle(`${type} Appointment Scheduling - ${apartmentData.adres} ${apartmentData.huisNummer}${apartmentData.toevoeging}`);\n        } catch (error) {\n            logger.error('Error fetching apartment data:', error);\n            throw error;\n        }\n    };\n    const handleSaveSuccess = (appointments) => {\n        if (mode === 'single') {\n            const apartmentId = apartments[0].apartmentId;\n            if (scheduleType === 'HAS') {\n                navigate(`/has-planning-apartment/${apartmentId}`);\n            } else {\n                navigate(`/planning-apartment/${apartmentId}`);\n            }\n        }\n    };\n    const handleCancel = () => {\n        navigate(-1);\n    };\n    if (loading) {\n        return (\n            <div style={{ \n                display: 'flex', \n                justifyContent: 'center', \n                alignItems: 'center', \n                minHeight: '400px',\n                fontSize: '18px',\n                color: '#666'\n            }}>\n                Loading appointment data...\n            </div>\n        );\n    }\n    if (!apartments.length) {\n        return (\n            <div style={{ \n                display: 'flex', \n                justifyContent: 'center', \n                alignItems: 'center', \n                minHeight: '400px',\n                fontSize: '18px',\n                color: '#666'\n            }}>\n                No apartments found for scheduling.\n            </div>\n        );\n    }\n    const preselectedApartments = mode === 'single' ? [apartments[0]._id] : [];\n    return (\n        <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n            <div style={{ marginBottom: '30px', textAlign: 'center' }}>\n                <h1 style={{ \n                    color: '#2c3e50', \n                    marginBottom: '10px',\n                    fontSize: '2rem',\n                    fontWeight: '600'\n                }}>\n                    {pageTitle}\n                </h1>\n                <div style={{ \n                    color: '#7f8c8d', \n                    fontSize: '1rem',\n                    fontWeight: '500'\n                }}>\n                    {mode === 'building' \n                        ? `Select apartments and set appointment details for ${scheduleType} scheduling`\n                        : `Set appointment details for this apartment`\n                    }\n                </div>\n            </div>\n            <UnifiedAppointmentScheduler\n                apartments={apartments}\n                scheduleType={scheduleType}\n                onSaveSuccess={handleSaveSuccess}\n                onCancel={handleCancel}\n                preselectedApartments={preselectedApartments}\n            />\n        </div>\n    );\n};\nexport default UnifiedAppointmentPage;"],"names":["BASE_URL","process","REACT_APP_API_BASE_URL","axiosPublic","axios","baseURL","headers","withCredentials","axiosPrivate","interceptors","response","use","async","error","status","localStorage","removeItem","window","location","href","Promise","reject","auth","setAuth","logout","useAuth","useEffect","requestIntercept","config","accessToken","responseIntercept","prevRequest","sent","logger","newAccessToken","data","prev","setItem","refreshError","AppointmentList","apartments","selectedApartments","flatAppointments","isHASScheduling","onApartmentSelect","isSingleApartment","getApartmentDisplayName","apartment","adres","huisNummer","toevoeging","flatNumber","name","_id","slice","length","existingAppointment","className","Date","date","toLocaleDateString","startTime","endTime","weekNumber","type","hasMonteurName","technischeSchouwerName","map","isSelected","includes","checked","onChange","defaultProps","AppointmentForm","appointmentData","onAppointmentChange","onSubmit","onCancel","availablePersonnel","loading","canSubmit","value","complaintDetails","rows","placeholder","required","readOnly","person","disabled","onClick","scheduleType","onSaveSuccess","preselectedApartments","useAxiosPrivate","setLoading","useState","calculateWeekNumber","currentDate","firstJan","getFullYear","days","Math","floor","ceil","getDay","setSelectedApartments","setAppointmentData","today","toISOString","split","setAvailablePersonnel","setFlatAppointments","formatDate","dateString","fetchAvailablePersonnel","loadExistingAppointments","loadSingleApartmentData","apartmentsWithAppointments","filter","hasMonteur","appointmentBooked","technischePlanning","combinedPreselected","Set","selectedApartment","find","apt","users","get","filteredUsers","user","roles","HASMonteur","TechnischeSchouwer","appointments","forEach","apartmentId","newSelectedApartments","id","e","target","preventDefault","all","appointmentPayload","endpoint","put","updatedAppointments","alert","useParams","navigate","useNavigate","searchParams","useSearchParams","setApartments","setScheduleType","pageTitle","setPageTitle","mode","determineScheduleTypeAndFetchData","determinedType","ROLES","Error","fetchBuildingData","fetchSingleApartmentData","buildingData","flats","address","apartmentData","style","display","justifyContent","alignItems","minHeight","fontSize","color","padding","maxWidth","margin","marginBottom","textAlign","fontWeight"],"sourceRoot":""}